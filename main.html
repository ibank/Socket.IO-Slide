<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.
 
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
 
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
 
  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)
                 Brad Neuberg
-->
<html manifest="cache.manifest">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" />
  <title>HTML5 Presentation</title>
  <link href="http://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans+Mono" rel="stylesheet" type="text/css" />
    <style>
      body {
        font: 16px "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
        padding: 0;
        margin: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0px; top: 0px;
      }
 
      .presentation {
        position: absolute;
        height: 100%;
        width: 100%;
        left: 0px;
        top: 0px;
        display: block;
        overflow: hidden;
        background: #778;
      }
      
      .shadow  { text-shadow: rgba(0, 0, 0, 0.5) 0 4px 4px; }
      .stroke  {
                -webkit-text-fill-color: black;
                -webkit-text-stroke-color: red;
                -webkit-text-stroke-width: 1px;
               }
      
      .slide p.giddyup { font-family:'GiddyUp Std'; font-size:2.0em;}
       @font-face {
                 font-family: 'GiddyUp Std';
                 src: url(src/GiddyupStd.otf);
       }
       
       .rounded
       {     
             border-radius:50px;
             border-top-left-radius:150px;
             border-bottom-left-radius:0px;
             -webkit-transition-property: all;
             -webkit-transition-duration: 1.5s;
             height:55px;
       }
       
       .rounded:hover
       {
             border-top-left-radius:50px;
             border-bottom-left-radius:50px;
             border-top-right-radius:150px;
             border-bottom-right-radius:0px;
       }
 
        .sunlight { width:300px; border:solid 1px #000; padding:30px 30px 30px 50px;
             background: -webkit-gradient(radial, 300 50, 0, 300 50, 100, from(yellow), to(#fff));
        }
        .sunlight li {padding:0px;margin:0px;line-height:18px;}
 
        .sunlight.moonlight
         {
            -webkit-transition-property:all ;
             -webkit-transition-duration:1.5s;
         }
 
         .sunlight.moonlight:hover
         {
             background: -webkit-gradient(radial, 300 20, 0, 300 20, 20, from(#fff), to(#000));
             color:#fff;
         }    
         
         canvas#bouncyball {border:solid 1px black;}   
       
        .windows-phone-7 {
          background: url(src/HTC-HD3.jpg) center center no-repeat;
          background-size: 100%;
          width:140px;
          height:165px;
          -webkit-transition-property: width, height;
          -webkit-transition-duration: 1s;
        }
 
       .windows-phone-7:hover {
          width:280px;
          height:330px;
        }
       
      .slides {
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        position: absolute;
        display: block;
        -webkit-transition: -webkit-transform 1s ease-in-out;
        -moz-transition: -moz-transform 1s ease-in-out;
        -o-transition: -o-transform 1s ease-in-out;
        transition: transform 1s ease-in-out;
      }
 
      .slide {
        display: none;
        position: absolute;
        overflow: hidden;
        width: 900px;
        height: 700px;
        left: 50%;
        top: 50%;
        margin-top: -350px;
        background-color: #eee;
        background: -webkit-gradient(linear, left bottom, left top, from(#bbd), to(#fff));
        background: -moz-linear-gradient(bottom, #bbd, #fff);
        background: linear-gradient(bottom, #bbd, #fff);
        -webkit-transition: margin 0.25s ease-in-out;
        -moz-transition: margin 0.25s ease-in-out;
        -o-transition: margin 0.25s ease-in-out;
        transition: margin 0.25s ease-in-out;
      }
 
      .slide:nth-child(even) {
        -moz-border-radius: 20px 0;
        -khtml-border-radius: 20px 0;
        border-radius: 20px 0; /* includes Opera 10.5+ */
        -webkit-border-top-left-radius: 20px;
        -webkit-border-bottom-right-radius: 20px;
      }
 
      .slide:nth-child(odd) {
        -moz-border-radius: 0 20px;
        -khtml-border-radius: 0 20px;
        border-radius: 0 20px;
        -webkit-border-top-right-radius: 20px;
        -webkit-border-bottom-left-radius: 20px;
      }
 
      .slide p, .slide textarea {
        font-size: 20px;
      }
 
      .slide .counter {
        color: #999999;
        position: absolute;
        left: 20px;
        bottom: 20px;
        display: block;
        font-size: 12px;
      }
 
      .slide.title > .counter,
      .slide.segue > .counter,
      .slide.mainTitle > .counter {
        display: none;
      }
 
      .force-render {
        display: block;
        visibility: hidden;
      }
      
      .slide.far-past {
        display: block;
        margin-left: -2800px;
      }
      
      .slide.past {
        visibility: visible;
        display: block;
        margin-left: -1600px;
      }
      
      .slide.current {
        visibility: visible;
        display: block;
        margin-left: -450px;
      }
      
      .slide.future {
        visibility: visible;
        display: block;
        margin-left: 700px;
      }
      
      .slide.far-future {
        display: block;
        margin-left: 1900px;
      }
 
      body.three-d div.presentation {
        /*background: -webkit-gradient(radial, 50% 50%, 10, 50% 50%, 1000, from(#333), to(#000));        */
      }
      
      body.three-d div.slides {
        -webkit-transform: translateX(50px) scale(0.8) rotateY(10deg);
        -moz-transform: translateX(50px) scale(0.8) rotateY(10deg);
        -o-transform: translateX(50px) scale(0.8) rotateY(10deg);
        transform: translateX(50px) scale(0.8) rotateY(10deg);
      }
      
      /* Content */
      /*
        Font sizes:
        header h1 - 50px
        h2, p - 20px
        default, pre, input - 16px
      */
      
      @font-face { font-family: 'Junction'; src: url(src/Junction02.otf); }
      @font-face { font-family: 'LeagueGothic'; src: url(src/LeagueGothic.otf); }
      
      header {
        font-family: 'Droid Sans';
        font-weight: normal;
        letter-spacing: -.05em;
        color: black;
        text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
        position: absolute;
        left: 30px;
        top: 25px;
        margin: 0;
        padding: 0;
        font-size: 50px;
      }
      
      h1 {
        font-size: 100%;
        display: inline;
      	font-weight: normal;
      	padding: 0;
      	margin: 0;
		font-family: 'LeagueGothic';
      }
      
      h2 {
        font-family: 'Droid Sans';
        color: black;
        font-size: 20px;
        padding: 0;
        margin: 15px 0 5px 0;
      }
            
      h2:first-child {
        margin-top: 0;
      }
 
      section, footer {
        font-family: 'Droid Sans';
        color: #3f3f3f;
        text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
        margin: 100px 30px 0;
        display: block;
        overflow: hidden;
      }
      
      footer {
        font-size: 12px;
        margin: 20px 0 0 30px;
      }
 
      a {
        color: inherit;
        display: inline-block;
        text-decoration: none;
        line-height: 110%;
        border-bottom: 2px solid #3f3f3f;
      }
 
      .gmap a {
        line-height: 100%;
        border-bottom: none;
      }
 
      li {
        list-style: none;
        padding: 10px 0;
      }
 
      button {
        font-size: 20px;
      }
      
      pre button {
        margin: 2px;
      }
      
      .summary {
        font-size: 30px;
      }
 
      .bullets {
        font-size: 40px;
      }
      
      section.left {
        float: left;
        width: 390px;
      }
      
      section.small {
        font-size: 24px;
      }
      
      section.small ul {
        margin: 0 0 0 15px;
        padding: 0;
      }
      
      section.small li {
        padding-bottom: 0;
      }
            
      section.middle {
        line-height: 68px;
        text-align: center;
        display: table-cell;
        vertical-align: middle;
        height: 700px;
        width: 900px;
      }
      
      pre {
        text-align: left;
        font-family: 'Droid Sans Mono', Courier;        
        padding: 10px 20px;
        background: rgba(255, 0, 0, 0.05);
        -webkit-border-radius: 8px;
        -khtml-border-radius: 8px;
        -moz-border-radius: 8px;
        border-radius: 8px;
        border: 1px solid rgba(255, 0, 0, 0.2);
      }
      
      pre select {
        font-family: Monaco, Courier;
        border: 1px solid #c61800;
      }
        
      input {
        font-size: 16px;
        margin-right: 10px;
        font-family: Helvetica;
        padding: 3px;
      }
      input[type="range"] {
        width: 100%;
      }
      
      button {
        margin: 20px 10px 0 0;
        font-family: Verdana;
      }
      
      button.large {
        font-size: 32px;
      }
        
      pre b {
        font-weight: normal;
        color: #c61800;
        text-shadow: #c61800 0 0 1px;
        /*letter-spacing: -1px;*/
      }
      pre em {
        font-weight: normal;
        font-style: normal;
        color: #18a600;
        text-shadow: #18a600 0 0 1px;
      }
      pre input[type="range"] {
        height: 6px;
        cursor: pointer;
        width: auto;
      }
      
      div.example {
        display: block;
        padding: 10px 20px;
        color: black;
        background: rgba(255, 255, 255, 0.4);
        -webkit-border-radius: 8px;
        -khtml-border-radius: 8px;
        -moz-border-radius: 8px;
        border-radius: 8px;
        margin-bottom: 10px;
        border: 1px solid rgba(0, 0, 0, 0.2);
      }
      
      video {
        -moz-border-radius: 8px;
        -khtml-border-radius: 8px;
        -webkit-border-radius: 8px;
        border-radius: 8px;
        border: 1px solid rgba(0, 0, 0, 0.2);
      }
      
      .css,
	  .property,
      .html,
      .key {
        font-family: 'Droid Sans';
        color: black;
        display: inline-block;
        padding: 6px 10px 3px 10px;
        font-size: 25px;
        line-height: 30px;
        text-shadow: none;
        letter-spacing: 0;
        bottom: 10px;
        position: relative;
        -moz-border-radius: 10px;
        -khtml-border-radius: 10px;
        -webkit-border-radius: 10px;
        border-radius: 10px;
        background: white;
        box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
        -webkit-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
        -moz-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
        -o-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
      }
      
      .key { font-family: Arial; }
      
      :not(header) > .css,
      :not(header) > .property,
      :not(header) > .html,
      :not(header) > .key {
        margin: 0 5px;
        bottom: 4px;
      }
      
      .css {
        background: -webkit-gradient(linear, left top, left bottom, from(#ff4), to(#ffa));
        background-color: #ff4;
        background: -moz-linear-gradient(left top, #ff4, #ffa);
      }
      .property {
        background: -webkit-gradient(linear, left top, left bottom, from(#4f4), to(#afa));
        background-color: #4f4;
        background: -moz-linear-gradient(left top, #4f4, #afa);
      }
      .html {
        background: -webkit-gradient(linear, left top, left bottom, from(#e88), to(#fee));
        background-color: #e88;
        background: -moz-linear-gradient(left top, #e88, #fee);
      }
 
      .two-column {
        -webkit-column-count: 2;
        -moz-column-count: 2;
        column-count: 2;
      }
      
      .summary li::before, .bullets li::before {
        content: 'Â· ';
      }
 
      .stroke {
		font-size: 30px;
        -webkit-text-stroke-color: red;
        -webkit-text-stroke-width: 1px;
      } /* currently webkit-only */
      
      .center {
        text-align: center;
      }
      
      .formula {
        font-size: 50px;
      }
      
      #presentation-counter {
        color: #ccc;
        font-size: 100px;
        letter-spacing: 1px;
        position: absolute;
        top: 40%;
        left: 0;
        width: 100%;
        text-align: center;
      }
      
      .hsl-value {
        display: inline-block;
        width: 50px;
      }
    </style>
  
  </head>
  <body>
    <div class="presentation">
      <div id="presentation-counter">
      </div>
      <div class="slides">
        <div class="slide">
          <style>
            .landing p {
              font-size: 35px;
            }
            #disclaimer-message {
              font-size: 20px;
            }
          </style>
          
          <section class="middle landing">
            <p>This presentation is an HTML5 website</p>
            <p>Press <span class="key">&rarr;</span> key to advance.</p>
            <p>Zoom in/out: <span class="key">Ctrl or Command</span> + <span class="key">+/-</span></p>
            <p>Slide framework created by google</p>
          </section>
        </div>
		
        <div class="slide">
          <style>
            .intro h1, .intro h2 {
              color: black;
            }
            .intro h1 {
              letter-spacing: -2px;
              font-size: 96px;
            }
            .intro h2 {
              margin-top: -5px;
              font-size: 40px;
              letter-spacing: -1px;
            }
          </style>
          
          <section class="middle intro">
            <hgroup>
              <h1> Socket.IO </h1>
              <h2> Real-Time Web for Everywhere </h2>
            </hgroup>
            <p>* 2010. 10. 23</p>
            <h2><a href="http://blog.outsider.ne.kr" target="_blank">Outsider</a></h2>
            <h2>in <a href="http://frends.kr" target="_blank">FRENDS</a></h2>
          </section>
        </div>
		
        <div class="slide">
			<style>
	            .emphasis h1, .emphasis h2 {
	              color: black;
	            }
	            .emphasis h1 {
	              letter-spacing: -2px;
	              font-size: 96px;
	            }
	            .emphasis h2 {
	              margin-top: -5px;
	              font-size: 40px;
	              letter-spacing: -1px;
	            }
	          </style>
          
          <section class="middle emphasis">
            <h1>We want Real-Time</h1>
          </div>
          <div class="slide">
            <section class="middle emphasis">
              <h2>So....</h2>
			  <br/>
              <h1>Polling</h1>
            </section>
          </div>

          <div class="slide">
          	<style>
		    	section.bulleted ul li {
		          margin-top: -5px;
		          font-size: 40px;
		          letter-spacing: -1px;
				  list-style: square;
				  text-align: left;
				  margin-left: 200px;
		        }
		    </style>
            <section class="middle emphasis bulleted">
              <h2>But....</h2>
			  <h1>Polling has disadvantages.</h1>
              <ul>
                <li>Latency (Interval time)</li>
                <li>Inefficient Traffic</li>
              </ul>
            </section>
          </div>
          <div class="slide">
            <section class="middle emphasis bulleted">
              <h1>We want MORE Real-Time</h1>
            </section>
          </div>
          <div class="slide">
            <section class="middle emphasis bulleted">
              <ul>
                <li>Long Polling</li>
                <li>Forever Iframe</li>
                <li>Web Socket</li>
                <li>etc...</li>
              </ul>
            </section>
          </div>
		<style>
            pre.half {
			  width: 375px;
			  float: left;
            }
		</style>
          
          <div class="slide">
            <section class="middle emphasis">
              <h1>Totally Different Techniques</h1>
			  <br/>
              <h2>So....</h2>
              <h2>Server has to treat HTTP Request differently</h2>
            </section>
          </div>
          
          <style>
          img.tags1 { height: 230px; }
          img.tags2 { height: 420px; }
          </style>
          
          <div class="slide">
            <section class="middle emphasis">
              <h1>Socket.IO with Node.js</h1>
			  <br/>
              <h2>save Us</h2>
            </section>
          </div>
          
          <div class="slide">
          	
            <section class="middle emphasis bulleted">
              <h2>Socket.IO abstract realtime techniques<br />like jQuery does for Ajax</h2>
              <ul>
                <li>created by <a href="http://www.learnboost.com" target="_blank">LearnBoost</a></li>
                <li><a href="http://socket.io/" target="_blank">Socket.IO Official Site</a></li>
                <li><a href="http://github.com/LearnBoost/Socket.IO" target="_blank">Socket.IO-client Repository</a></li>
                <li><a href="http://github.com/LearnBoost/Socket.IO-node" target="_blank">Socket.IO-server Repository</a></li>
              </ul>
            </section>
          </div>
          
          <div class="slide">
          	<style>
		    	section.bulleted-many ul li {
		          margin-top: -5px;
		          font-size: 40px;
		          letter-spacing: -1px;
				  list-style: square;
				  text-align: left;
				  margin-left: 150px;
				  line-height: 40px;
		        }
		    </style>
            <header>
                <h1>Supported Transports</h1>
            </header>
            
            <section class="middle emphasis bulleted-many">
              <ul>
                <li>Web Socket</li>
                <li>Adobe Flash Socket</li>
                <li>ActiveX HTMLFile (IE)</li>
                <li>XHR with Multipart Encoding</li>
                <li>XHR with Long-Polling</li>
                <li>JSONP Polling (for cross-domain)</li>
              </ul>
            </section>
          </div>
		  
          <div class="slide">
            <header>
                <h1>Supported Browsers</h1>
            </header>
            
            <section class="middle emphasis bulleted-many">
              <ul>
                <li>Internet Explorer 5.5 ~ 8</li>
                <li>Safari 3 ~ 5</li>
                <li>Google Chrome 4 ~ 6</li>
                <li>Firefox 3 ~ 4</li>
                <li>Opera 10.61</li>
                <li>iPhone Safari</li>
                <li>iPad Safari</li>
                <li>Android Webkit</li>
                <li>WebOs Webkit</li>
              </ul>
            </section>
          </div>
		  
		  <div class="slide">
            <section class="middle emphasis">
              <h1>Just One Source for All Transports</h1>
            </section>
          </div>

          <div class = "slide">
            <header>
                <h1>How to use : Client</h1>
            </header>
            
            <section class="emphasis">
                <pre><b>&lt;script src="http://cdn.socket.io/stable/socket.io.js"&gt;&lt;/script&gt;</b><br /><br />or<br /><br /><b>&lt;script src="socket.io/socket.io.js"&gt;&lt;/script&gt;</b></pre>
                <br />
				<pre>
<b>var socket = new io.Socket(null);</b> <span style="color:Green">// null is localhost</span>
<b>socket.connect();</b> <span style="color:Green">// Establishes a connection</span><br/>
<b>socket.on('connect', function(){</b> <span style="color:Green">// regist listener for connected</span>
    <span style="color:Green">// connected!</span>
<b>});
socket.on('message', function(msg){</b> <span style="color:Green">// regist listener for receiving a message</span>
    <span style="color:Green">// message coming</span>
<b>});</b>
<b>socket.on('disconnect', function(){</b> <span style="color:Green">// regist listener for disconnected</span>
    <span style="color:Green">// disconnected!</span>
<b>});</b><br/>
<b>socket.send('Hello world!');</b> <span style="color:Green">// send a message to server</span>
<b>socket.disconnect();</b> <span style="color:Green">// Closes the connection</span>
				</pre>
            </section>
          </div>
          <div class = "slide">
          	<style>
		    	section.bulleted-small ul li {
		          margin-top: -10px;
		          font-size: 30px;
		          letter-spacing: -1px;
				  list-style: square;
				  text-align: left;
				  margin-left: 150px;
				  line-height: 20px;
		        }
		    </style>
            <header>
                <h1>io.Socket() Object Properties</h1>
            </header>

            <section class="middle emphasis bulleted-small">
            	<button id="client-show" onclick="showProperty();">Show</button>
            	<button id="client-clear" onclick="clearPropertyList();">ClearList</button>
            	<button id="client-connect" onclick="connectToServer();">Connect</button>
            	<button id="client-disconnect" onclick="disconnectToServer();">Disconnect</button>
				
				<span id="client-log" class="stroke"></span>
				
                <ul id="client-property-list">
                </ul>
				
				<script src="socket.io/socket.io.js"></script>
				<script>
					var socket = new io.Socket(null);
					var showProperty = function() {
						var tempContents = "";
						tempContents += "<li>socket.connected : <span class=\"property\">" + socket.connected + "</span></li>";
						tempContents += "<li>socket.connecting : <span class=\"property\">" + socket.connecting + "</span></li>";
						tempContents += "<li>socket.host : <span class=\"property\">" + socket.host + "</span></li>";
						tempContents += "<li>socket.options.connectTimeout : <span class=\"property\">" + socket.options.connectTimeout + "</span></li>";
						tempContents += "<li>socket.options.port : <span class=\"property\">" + socket.options.port + "</span></li>";
						tempContents += "<li>socket.options.rememberTransport : <span class=\"property\">" + socket.options.rememberTransport + "</span></li>";
						tempContents += "<li>socket.options.resource : <span class=\"property\">" + socket.options.resource + "</span></li>";
						tempContents += "<li>socket.options.secure : <span class=\"property\">" + socket.options.secure + "</span></li>";
						tempContents += "<li>socket.transport.type : <span class=\"property\">" + socket.transport.type + "</span></li>";
						
						document.getElementById('client-property-list').innerHTML = tempContents;
					}
					
					var connectToServer = function() {
						if (!socket.connected) {
							socket.connect();
							socket.on('connect', function(){
							   document.getElementById('client-log').innerHTML = "Connected!!";
							});
						}
					}
					
					var disconnectToServer = function() {
						if (socket.connected) {
							socket.disconnect();
							socket.on('disconnect', function(){
							   document.getElementById('client-log').innerHTML = "Disconnected!!";
							});
						}
					}
					
					var clearPropertyList = function() {
						document.getElementById('client-property-list').innerHTML = "";
					}
				</script>
				
            </section>
          </div>
		  
		  <div class = "slide">
            <header>
                <h1>How to use : Server</h1>
            </header>
            
            <section class="emphasis">
				<pre>
<b>var http = require("http"),</b>
    <b>io = require("./path/to/socket.io"),</b>
    <b>server = http.createServer(function(req, res) {});</b>

<b>server.listen(8080, null);</b> <span style="color:Green">// Establishes a HTTP Server</span>
					
<b>var socket = io.listen(server);</b> <span style="color:Green">// Socket.IO connecto to HTTP Server</span>

<b>socket.on("connection", function(client) {</b> <span style="color:Green">// regist listener for connected</span>

    <b>client.on("message", function(msg) {</b><span style="color:Green">//regist listener for receiving a message</span>
        <b>client.send({ msg: msg });</b> <span style="color:Green">// Sends a message to the client</span>
        <b>client.broadcast({ msg: msg });</b> <span style="color:Green">// Sends a message to all other clients.</span>
    <b>});</b>
	
    <b>client.on("disconnect", function() { });</b> <span style="color:Green">// regist listener for disconnected</span>
<b>});</b>
				</pre>
				<br/>
				<h2>
					Provide "socket.io/socket.io.js" automatically<br />
				</h2>
            </section>
          </div>
		  
		  <div class = "slide">
            <header>
                <h1>Communication with Server</h1>
            </header>
            
            <section class="emphasis">
            	<p>Client Code</p>
                <pre>
if (!socket._events.message) {
  <b>socket.on('message', function(msg){</b>
    if (msg.type === "send") { 
      <b>document.getElementById("send-log").innerHTML = msg.text;</b> 
    }
  <b>});</b>
}
var text = document.getElementById("send-text").value;
<b>socket.send({"text":text, "type":"send"});</b></pre>
				<p>Server Code</p>
                <pre>
<b>client.on("message", function(msg) {</b>
  if (msg.type === "send") {
    <b>client.send( { "text": msg.text, "type":"send" } );</b>
  }
<b>});</b></pre>
				<div class="center">
	                <h2 id="send-log">
	                </h2>
					<input id="send-text" type="text" value="" /><input type="button" value="Send" onclick="sendToServer();" />
	            </div>
				
				<script>
					var sendToServer = function() {
						if (!socket.connected) {
							socket.connect();
						}
						if (!socket._events.message) {
							socket.on('message', function(msg){
								if (msg.type === "send") {
									document.getElementById("send-log").innerHTML = msg.text;
								} else if (msg.type === "broad") {
									document.getElementById("broad-log").innerHTML = msg.text;
								}
							});
						}
						
						var text = document.getElementById("send-text").value;
						socket.send({"text":text, "type":"send"});
					}
				</script>
            </section>
          </div>
		  
		  <div class = "slide">
            <header>
                <h1>Broadcast via Server</h1>
            </header>
            
            <section class="emphasis">
            	<p>Client Code</p>
                <pre>
if (!socket._events.message) {
  <b>socket.on('message', function(msg){</b>
    if (msg.type === "broad") { 
      <b>document.getElementById("broad-log").innerHTML = msg.text;</b> 
    }
  <b>});</b>
}
var text = document.getElementById("broad-text").value;
<b>socket.send({"text":text, "type":"broad"});</b></pre>

				<p>Server Code</p>
                <pre>
<b>client.on("message", function(msg) {</b>
  if (msg.type === "broad") {
    <b>client.broadcast( { "text": msg.text, "type":"broad" } );</b>
  }
<b>});</b></pre>
				<div class="center">
	                <h2 id="broad-log">
	                </h2>
	                <input id="broad-text" type="text" value="" /><input type="button" value="Send" onclick="sendForBroadCase();" />
	            </div>
				
				<script>
					var sendForBroadCase = function() {
						if (!socket.connected) {
							socket.connect();
						}
						if (!socket._events.message) {
							socket.on('message', function(msg){
								if (msg.type === "send") {
									document.getElementById("send-log").innerHTML = msg.text;
								} else if (msg.type === "broad") {
									document.getElementById("broad-log").innerHTML = msg.text;
								}
							});
						}
						
						var text = document.getElementById("broad-text").value;
						socket.send({"text":text, "type":"broad"});
					}
				</script>
            </section>
          </div>
		  
		  <div class="slide">
		  	<style>
		    	section.bulleted-resource ul li {
		          margin-top: 15px;
		          font-size: 40px;
		          letter-spacing: -1px;
				  list-style: square;
				  text-align: left;
				  margin-left: 70px;
		        }
		    </style>
            <section class="bulleted-resource">
              <header>
                <h1>Resources</h1>
              </header>
			  <br/><br/>
              <ul>
                <li><a href="http://socket.io/" target="_blank">Socket.IO Official Site</a></li>
                <li><a href="http://github.com/LearnBoost/Socket.IO" target="_blank">Socket.IO-client Repository</a></li>
                <li><a href="http://github.com/LearnBoost/Socket.IO-node" target="_blank">Socket.IO-server Repository</a></li>
                <li><a href="http://howtonode.org/websockets-socketio" target="_blank">Websockets everywhere with Socket.IO</a></li>
              </ul>
            </section>
          </div>
		  
		  <div class="slide">
		  	<style>
		  		section .contact {
		  			margin-top: 150px;
		  		}
		  		section .contact h3 {
					font-size: 30px;
					margin-bottom: -50px;
					text-align: right;
					margin-right: 100px;
				}
		  	</style>
            <section class="middle emphasis">
			  <h1>Thank You!</h1>
			  <h2>All source codes for this Slide are in <a href="http://github.com/outsideris/Socket.IO-Slide" target="_blank">GitHub</a></h2>
			  <div class="contact">
	              <h3><a href="http://blog.outsider.ne.kr" target="_blank">Outsider</a></h3>
	              <h3><a href="http://blog.outsider.ne.kr" target="_blank">http://blog.outsider.ne.kr</a></h3>
	              <h3>outsideris@gmail.com</h3>
	              <h3><a href="http://twitter.com/outsider__" target="_blank">@Outsider__</a></h3>
			  </div>
            </section>
          </div>
          
      </div> <!-- slides -->
          
    </div> <!-- presentation -->
          
    <script>
      (function() {
        var doc = document;
        var disableBuilds = true;
 
        var ctr = 0;
        var spaces = /\s+/, a1 = [''];
 
        var toArray = function(list) {
          return Array.prototype.slice.call(list || [], 0);
        };
 
        var byId = function(id) {
          if (typeof id == 'string') { return doc.getElementById(id); }
          return id;
        };
 
        var query = function(query, root) {
          if (!query) { return []; }
          if (typeof query != 'string') { return toArray(query); }
          if (typeof root == 'string') {
            root = byId(root);
            if(!root){ return []; }
          }
 
          root = root || document;
          var rootIsDoc = (root.nodeType == 9);
          var doc = rootIsDoc ? root : (root.ownerDocument || document);
 
          // rewrite the query to be ID rooted
          if (!rootIsDoc || ('>~+'.indexOf(query.charAt(0)) >= 0)) {
            root.id = root.id || ('qUnique' + (ctr++));
            query = '#' + root.id + ' ' + query;
          }
          // don't choke on something like ".yada.yada >"
          if ('>~+'.indexOf(query.slice(-1)) >= 0) { query += ' *'; }
 
          return toArray(doc.querySelectorAll(query));
        };
 
        var strToArray = function(s) {
          if (typeof s == 'string' || s instanceof String) {
            if (s.indexOf(' ') < 0) {
              a1[0] = s;
              return a1;
            } else {
              return s.split(spaces);
            }
          }
          return s;
        };
 
        var addClass = function(node, classStr) {
          classStr = strToArray(classStr);
          var cls = ' ' + node.className + ' ';
          for (var i = 0, len = classStr.length, c; i < len; ++i) {
            c = classStr[i];
            if (c && cls.indexOf(' ' + c + ' ') < 0) {
              cls += c + ' ';
            }
          }
          node.className = cls.trim();
        };
 
        var removeClass = function(node, classStr) {
          var cls;
          if (classStr !== undefined) {
            classStr = strToArray(classStr);
            cls = ' ' + node.className + ' ';
            for (var i = 0, len = classStr.length; i < len; ++i) {
              cls = cls.replace(' ' + classStr[i] + ' ', ' ');
            }
            cls = cls.trim();
          } else {
            cls = '';
          }
          if (node.className != cls) {
            node.className = cls;
          }
        };
 
        var toggleClass = function(node, classStr) {
          var cls = ' ' + node.className + ' ';
          if (cls.indexOf(' ' + classStr.trim() + ' ') >= 0) {
            removeClass(node, classStr);
          } else {
            addClass(node, classStr);
          }
        };
 
        var ua = navigator.userAgent;
        var isFF = parseFloat(ua.split('Firefox/')[1]) || undefined;
        var isWK = parseFloat(ua.split('WebKit/')[1]) || undefined;
        var isOpera = parseFloat(ua.split('Opera/')[1]) || undefined;
 
        var canTransition = (function() {
          var ver = parseFloat(ua.split('Version/')[1]) || undefined;
          // test to determine if this browser can handle CSS transitions.
          var cachedCanTransition = 
            (isWK || (isFF && isFF > 3.6 ) || (isOpera && ver >= 10.5));
          return function() { return cachedCanTransition; }
        })();
 
        //
        // Slide class
        //
        var Slide = function(node, idx) {
          this._node = node;
          if (idx >= 0) {
            this._count = idx + 1;
          }
          if (this._node) {
            addClass(this._node, 'slide distant-slide');
          }
          this._makeCounter();
          this._makeBuildList();
        };
 
        Slide.prototype = {
          _node: null,
          _count: 0,
          _buildList: [],
          _visited: false,
          _currentState: '',
          _states: [ 'distant-slide', 'far-past',
                     'past', 'current', 'future',
                     'far-future', 'distant-slide' ],
          setState: function(state) {
            if (typeof state != 'string') {
              state = this._states[state];
            }
            if (state == 'current' && !this._visited) {
              this._visited = true;
              this._makeBuildList();
            }
            removeClass(this._node, this._states);
            addClass(this._node, state);
            this._currentState = state;
 
            // delay first auto run. Really wish this were in CSS.
            /*
            this._runAutos();
            */
            var _t = this;
            setTimeout(function(){ _t._runAutos(); } , 400);
          },
          _makeCounter: function() {
            if(!this._count || !this._node) { return; }
            var c = doc.createElement('span');
            c.innerHTML = this._count;
            c.className = 'counter';
            this._node.appendChild(c);
          },
          _makeBuildList: function() {
            this._buildList = [];
            if (disableBuilds) { return; }
            if (this._node) {
              this._buildList = query('[data-build] > *', this._node);
            }
            this._buildList.forEach(function(el) {
              addClass(el, 'to-build');
            });
          },
          _runAutos: function() {
            if (this._currentState != 'current') {
              return;
            }
            // find the next auto, slice it out of the list, and run it
            var idx = -1;
            this._buildList.some(function(n, i) {
              if (n.hasAttribute('data-auto')) {
                idx = i;
                return true;
              }
              return false;
            });
            if (idx >= 0) {
              var elem = this._buildList.splice(idx, 1)[0];
              var transitionEnd = isWK ? 'webkitTransitionEnd' : (isFF ? 'mozTransitionEnd' : 'oTransitionEnd');
              var _t = this;
              if (canTransition()) {
                var l = function(evt) {
                  elem.parentNode.removeEventListener(transitionEnd, l, false);
                  _t._runAutos();
                };
                elem.parentNode.addEventListener(transitionEnd, l, false);
                removeClass(elem, 'to-build');
              } else {
                setTimeout(function() {
                  removeClass(elem, 'to-build');
                  _t._runAutos();
                }, 400);
              }
            }
          },
          buildNext: function() {
            if (!this._buildList.length) {
              return false;
            }
            removeClass(this._buildList.shift(), 'to-build');
            return true;
          },
        };
 
        //
        // SlideShow class
        //
        var SlideShow = function(slides) {
          this._slides = (slides || []).map(function(el, idx) {
            return new Slide(el, idx);
          });
 
          var h = window.location.hash;
          try {
            this.current = parseInt(h.split('#slide')[1], 10);
          }catch (e) { /* squeltch */ }
          this.current = isNaN(this.current) ? 1 : this.current;
          var _t = this;
          doc.addEventListener('keydown', 
              function(e) { _t.handleKeys(e); }, false);
          doc.addEventListener('mousewheel', 
              function(e) { _t.handleWheel(e); }, false);
          doc.addEventListener('DOMMouseScroll', 
              function(e) { _t.handleWheel(e); }, false);
          doc.addEventListener('touchstart', 
              function(e) { _t.handleTouchStart(e); }, false);
          doc.addEventListener('touchend', 
              function(e) { _t.handleTouchEnd(e); }, false);
          window.addEventListener('popstate', 
              function(e) { if (e.state) { _t.go(e.state); } }, false);
          this._update();          
        };
 
        SlideShow.prototype = {
          _slides: [],
          _update: function(dontPush) {
            document.querySelector('#presentation-counter').innerText = this.current;
            if (history.pushState) {
              if (!dontPush) {
                history.replaceState(this.current, 'Slide ' + this.current, '#slide' + this.current);
              }
            } else {
              window.location.hash = 'slide' + this.current;
            }
            for (var x = this.current-1; x < this.current + 7; x++) {
              if (this._slides[x-4]) {
                this._slides[x-4].setState(Math.max(0, x-this.current));
              }
            }
          },
 
          current: 0,
          next: function() {
            if (!this._slides[this.current-1].buildNext()) {
              this.current = Math.min(this.current + 1, this._slides.length);
              this._update();
            }
          },
          prev: function() {
            this.current = Math.max(this.current-1, 1);
            this._update();
          },
          go: function(num) {
            this.current = num;
            this._update(true);
          },
 
          _notesOn: false,
          showNotes: function() {
            var isOn = this._notesOn = !this._notesOn;
            query('.notes').forEach(function(el) {
              el.style.display = (notesOn) ? 'block' : 'none';
            });
          },
          switch3D: function() {
            toggleClass(document.body, 'three-d');
          },
          handleWheel: function(e) {
            var delta = 0;
            if (e.wheelDelta) {
              delta = e.wheelDelta/120;
              if (isOpera) {
                delta = -delta;
              }
            } else if (e.detail) {
              delta = -e.detail/3;
            }
 
            if (delta > 0 ) {
              this.prev();
              return;
            }
            if (delta < 0 ) {
              this.next();
              return;
            }
          },
          handleKeys: function(e) {
            
            if (/^(input|textarea)$/i.test(e.target.nodeName)) return;
            
            switch (e.keyCode) {
              case 37: // left arrow
                this.prev(); break;
              case 39: // right arrow
              case 32: // space
                this.next(); break;
              case 50: // 2
                this.showNotes(); break;
              case 51: // 3
                this.switch3D(); break;
            }
          },
          _touchStartX: 0,
          handleTouchStart: function(e) {
            this._touchStartX = e.touches[0].pageX;
          },
          handleTouchEnd: function(e) {
            var delta = this._touchStartX - e.changedTouches[0].pageX;
            var SWIPE_SIZE = 150;
            if (delta > SWIPE_SIZE) {
              this.next();
            } else if (delta< -SWIPE_SIZE) {
              this.prev();
            }
          },
        };
 
        // Initialize
        var slideshow = new SlideShow(query('.slide'));
      })();
    </script>
          
    <!--[if lt IE 9]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">
    </script>
		<script>CFInstall.check({ mode: "overlay" });</script>
    <![endif]-->
          
    <script>
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-15028909-5']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
          
        </body>
      </html>